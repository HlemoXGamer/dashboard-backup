import{C as g,aV as w,l as p,O as k,o as F,b as S,w as t,q as e,W as r,n as h,y as _,s as a,a$ as N,b0 as U,U as m,b1 as i,b2 as $,az as A,z as B,H as C,aZ as y,aW as E,a_ as T}from"./index-74fdcc91.js";import{c as j}from"./extra-flavors-5c4a4e1c.js";import{V as I}from"./VSelect-f0d684cd.js";import"./VList-46baac2b.js";import"./ssrBoot-b7abb761.js";import"./VDivider-65a1a2a2.js";import"./dialog-transition-4f838b9f.js";import"./VMenu-9b828eb3.js";import"./VOverlay-81a77b3c.js";import"./lazy-de51d0d2.js";import"./VCheckboxBtn-35e59c47.js";import"./VSelectionControl-742d99c7.js";import"./VChip-e753e051.js";const q={class:"text-h4 pt-3 pb-2"},V={__name:"add",setup(z){var v;const c=w(),n=p(!1),l=p({name:"",type:"",price:0,code:""}),f=p();(v=JSON.parse(localStorage.getItem("userData")))==null||v.type;const b=k(()=>(l.value.type==="flavor"&&(l.value.price=0),l.value.type==="flavor")),x=async()=>{var d;(d=f.value)==null||d.validate().then(async({valid:s})=>{if(s){n.value=!0;try{l.value.type==="flavor"&&(l.value.price=0),await j(l.value),n.value=!1,c.success("Extra-Flavor Added successfully"),E.back()}catch(u){c.error(u.response.data.message),n.value=!1}}})};return(d,s)=>{const u=T;return F(),S(m,{class:"mt-4 px-4",justify:"space-around"},{default:t(()=>[e(r,{class:"pt-0"},{default:t(()=>[e(r,{class:"px-5 rounded",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[h("p",q,_(d.$t("Add Extra-Flavor")),1),e(a(N),{ref_key:"refVForm",ref:f,onSubmit:U(x,["prevent"])},{default:t(()=>[e(r,null,{default:t(()=>[e(m,{justify:"space-between",align:"end"},{default:t(()=>[e(r,null,{default:t(()=>[e(u,{rules:[a(i)],style:{width:"100%"},class:"pe-3",modelValue:a(l).code,"onUpdate:modelValue":s[0]||(s[0]=o=>a(l).code=o),label:"Code"},null,8,["rules","modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(u,{rules:[a(i)],style:{width:"100%"},class:"pe-3",modelValue:a(l).name,"onUpdate:modelValue":s[1]||(s[1]=o=>a(l).name=o),label:"Name"},null,8,["rules","modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(I,{modelValue:a(l).type,"onUpdate:modelValue":s[2]||(s[2]=o=>a(l).type=o),items:[{name:"Extra",value:"extra"},{name:"Flavor",value:"flavor"}],rules:[a(i)],"item-title":"name","item-value":"value",style:{width:"100%","align-self":"flex-end"},label:"Type"},null,8,["modelValue","rules"])]),_:1}),e(r,null,{default:t(()=>[e(u,{rules:[a(i),a($)],style:{width:"100%"},class:"pe-3",modelValue:a(l).price,"onUpdate:modelValue":s[3]||(s[3]=o=>a(l).price=o),label:"Price",disabled:a(b)},null,8,["rules","modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(m,{class:"pb-6 mt-8 px-3",align:"center",justify:"center"},{default:t(()=>[e(A,{block:d.$vuetify.display.xs,color:"primary",class:"px-12",loading:a(n),type:"submit"},{default:t(()=>[e(B,{start:"",icon:"tabler-check"}),C(_(d.$t("Add")),1)]),_:1},8,["block","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}};typeof y=="function"&&y(V);const X=g(V,[["__scopeId","data-v-235d933e"]]);export{X as default};
