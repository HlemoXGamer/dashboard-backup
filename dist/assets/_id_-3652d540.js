import{D as J,O as S,o as x,b as $,w as o,q as e,t as M,H as b,y as k,s as r,l as V,R as h,aX as X,n as D,a1 as c,a2 as d,I as Y,a_ as Z,C as G,aP as C,az as w,aZ as U}from"./index-62e44508.js";import{V as K}from"./VChip-a068bcbe.js";import{V as Q}from"./VDataTable-329f6e33.js";import{g as ee}from"./cities-2a56cda2.js";import{V as ae}from"./VCombobox-7b54def3.js";import{b as le,d as te}from"./branches-8f357470.js";import{a as oe}from"./areas-f6255b2d.js";import"./VCheckboxBtn-b1f0a5d3.js";import"./VSelectionControl-c75bc7bf.js";import"./VSelect-fae3330c.js";import"./VList-1328fe71.js";import"./ssrBoot-1773477a.js";import"./VDivider-2dfa86e0.js";import"./dialog-transition-723f764d.js";import"./VMenu-f088b4c3.js";import"./VOverlay-2d57c717.js";import"./lazy-5ea71c27.js";import"./filter-4f94d92f.js";import"./VTable-a3423897.js";const ne={__name:"BranchesViewTable",props:{items:{type:Array,default:[]}},setup(t){const m=J().t,n=S(()=>[{title:m("Day"),key:"day"},{title:m("Time"),sortable:!1,key:"time"},{title:m("Item Name"),sortable:!1,key:"item_name"},{title:m("Action"),sortable:!1,key:"action"},{title:m("Details"),sortable:!1,key:"details"}]);return(a,s)=>(x(),$(r(Q),{items:t.items,headers:r(n),"items-per-page":15,class:"pb-5 mt-0",title:"Branches Log"},{"item.action":o(({item:l})=>[e(K,{color:a.resolveStatusVariant(l.raw.action).color,class:M([`text-${a.resolveStatusVariant(l.raw.action).color}`,"font-weight-medium"]),size:"small"},{default:o(()=>[b(k(a.resolveStatusVariant(l.raw.action).text),1)]),_:2},1032,["color","class"])]),_:1},8,["items","headers"]))}},se={class:"text-h4 py-1 mb-3"},de={__name:"BranchesViewSummary",props:{data:{type:Object,default:{}}},setup(t){const f=V([]),m=()=>{ee().then(({data:n,meta:a})=>{f.value=n.data,console.log(f.value)})};return h(()=>{m()}),(n,a)=>{const s=Z;return x(),$(Y,{rounded:"lg",class:"pb-6 px-0",variant:"flat"},{default:o(()=>[e(X,null,{default:o(()=>[D("p",se,k(n.$t("Branches Details")),1),e(c,{class:"px-2 mt-3"},{default:o(()=>[e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Name"),class:"mx-4 flex-grow-1",modelValue:t.data.name_en,"onUpdate:modelValue":a[0]||(a[0]=l=>t.data.name_en=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Phone Number"),class:"mx-4 flex-grow-1",modelValue:t.data.phone_no,"onUpdate:modelValue":a[1]||(a[1]=l=>t.data.phone_no=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Email"),class:"mx-4 flex-grow-1",modelValue:t.data.email,"onUpdate:modelValue":a[2]||(a[2]=l=>t.data.email=l)},null,8,["label","modelValue"])]),_:1})]),_:1}),e(c,{class:"px-2 mt-7"},{default:o(()=>[e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Working Days"),class:"mx-4 flex-grow-1",modelValue:t.data.working_days,"onUpdate:modelValue":a[3]||(a[3]=l=>t.data.working_days=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Start Working Hours"),class:"mx-4 flex-grow-1",modelValue:t.data.start,"onUpdate:modelValue":a[4]||(a[4]=l=>t.data.start=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("End Working Hours"),class:"mx-4 flex-grow-1",modelValue:t.data.end,"onUpdate:modelValue":a[5]||(a[5]=l=>t.data.end=l)},null,8,["label","modelValue"])]),_:1})]),_:1}),e(c,{class:"px-2 mt-7"},{default:o(()=>[e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Estimate Time"),class:"mx-4 flex-grow-1",modelValue:t.data.est_time,"onUpdate:modelValue":a[6]||(a[6]=l=>t.data.est_time=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Branch Code"),class:"mx-4 flex-grow-1",modelValue:t.data.code,"onUpdate:modelValue":a[7]||(a[7]=l=>t.data.code=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("cities"),items:r(f),class:"mx-4 flex-grow-1",modelValue:t.data.city_id,"onUpdate:modelValue":a[8]||(a[8]=l=>t.data.city_id=l),"item-value":"id","item-title":"name","return-object":!1},null,8,["label","items","modelValue"])]),_:1})]),_:1}),e(c,{class:"px-2 mt-7"},{default:o(()=>[e(d,null,{default:o(()=>[e(ae,{readonly:"",class:"mx-4 flex-grow-1",modelValue:t.data.areas,"onUpdate:modelValue":a[9]||(a[9]=l=>t.data.areas=l),label:n.$t("Areas"),"return-object":!1,items:t.data.areas,multiple:"",style:{width:"100%"},variant:"outlined","item-value":"id","item-title":"name"},null,8,["modelValue","label","items"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Street Name"),class:"mx-4 flex-grow-1",modelValue:t.data.street_name,"onUpdate:modelValue":a[10]||(a[10]=l=>t.data.street_name=l)},null,8,["label","modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(s,{readonly:"",label:n.$t("Building Number"),class:"mx-4 flex-grow-1",modelValue:t.data.building_no,"onUpdate:modelValue":a[11]||(a[11]=l=>t.data.building_no=l)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}};const me={class:"text-h4 pt-3 pb-2"},N={__name:"[id]",setup(t){var B;const f=(B=JSON.parse(localStorage.getItem("userData")))==null?void 0:B.type;C().params.id;const m=V([]),n=V([]),a=V({start:"",end:"",name_en:"",name_ar:"",phone_no:"",city_id:null,areas:[],street_name:"",building_no:"",email:"",password:"",est_time:"",delivery_fee:.5,code:"",working_days:[],is_active:0}),s=V("today"),l=S(()=>i=>s.value===i?"elevated":"tonal"),_=C().params.id,T=async()=>{await le(_).then(i=>{let{start:u,end:g,name_en:p,name_ar:y,phone_no:L,areas:j,city_id:A,street_name:R,building_no:z,email:E,password:H,est_time:O,delivery_fee:W,code:q,days:P,is_active:F}=i.data.data;a.value={start:u,end:g,name_en:p,name_ar:y,phone_no:L,areas:j,city_id:A,street_name:R,building_no:z,email:E,password:H,est_time:O,delivery_fee:W,code:q,is_active:F},a.value.working_days=P.map(v=>v.id),a.value.email=i.data.data.user.email,oe().then(({data:v,meta:ie})=>{m.value=v.data})})},I=()=>{te(_).then(({data:i,meta:u})=>{n.value=i.data})};return h(()=>{f==="admin"&&(T(),I())}),(i,u)=>{const g=de,p=ne;return x(),$(c,{class:"mt-4 px-4",justify:"space-around"},{default:o(()=>[e(d,{class:"pt-0"},{default:o(()=>[e(g,{data:r(a),cities:i.cities},null,8,["data","cities"]),e(c,{class:"gap-5 pt-16 pl-3 pb-0"},{default:o(()=>[e(w,{variant:r(l)("today"),onClick:u[0]||(u[0]=y=>s.value="today")},{default:o(()=>[b("Today")]),_:1},8,["variant"]),e(w,{variant:r(l)("yesterday"),onClick:u[1]||(u[1]=y=>s.value="yesterday")},{default:o(()=>[b("Yesterday")]),_:1},8,["variant"]),e(w,{variant:r(l)("custom"),onClick:u[2]||(u[2]=y=>s.value="custom")},{default:o(()=>[b("Custom")]),_:1},8,["variant"])]),_:1}),e(d,{class:"px-5 rounded mt-10",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:o(()=>[D("p",me,k(i.$t("Branches Log")),1),e(p,{items:r(n)},null,8,["items"])]),_:1})]),_:1})]),_:1})}}};typeof U=="function"&&U(N);const he=G(N,[["__scopeId","data-v-385dc2ec"]]);export{he as default};
