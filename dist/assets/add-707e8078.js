import{C as g,aV as k,l as i,O as w,o as F,b as h,w as t,q as e,a2 as o,n as S,y as _,s as a,a$ as N,b0 as $,a1 as p,b1 as c,b2 as A,az as B,z as E,H as T,aZ as y,aW as j,a_ as C}from"./index-581c2083.js";import{c as I}from"./extra-flavors-eedf8c1c.js";import{V as U}from"./VSelect-91e75b33.js";import"./VList-800b0139.js";import"./ssrBoot-f2e19377.js";import"./VDivider-007f86e5.js";import"./dialog-transition-e2ab3ff7.js";import"./VMenu-568d971d.js";import"./VOverlay-b3d70df2.js";import"./lazy-e0bc52de.js";import"./VCheckboxBtn-36803dae.js";import"./VSelectionControl-6e42f01a.js";import"./VChip-2cd4c1fb.js";const q={class:"text-h4 pt-3 pb-2"},V={__name:"add",setup(z){var v;const m=k(),d=i(!1),l=i({name:"",type:"",price:null}),f=i();(v=JSON.parse(localStorage.getItem("userData")))==null||v.type;const b=w(()=>(l.value.type==="flavor"&&(l.value.price=0),l.value.type==="flavor")),x=async()=>{var r;(r=f.value)==null||r.validate().then(async({valid:s})=>{if(s){d.value=!0;try{l.value.type==="flavor"&&(l.value.price=0),await I(l.value),d.value=!1,m.success("Extra-Flavor Added successfully"),j.back()}catch(n){m.error(n.response.data.message),d.value=!1}}})};return(r,s)=>{const n=C;return F(),h(p,{class:"mt-4 px-4",justify:"space-around"},{default:t(()=>[e(o,{class:"pt-0"},{default:t(()=>[e(o,{class:"px-5 rounded",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[S("p",q,_(r.$t("Add Extra-Flavor")),1),e(a(N),{ref_key:"refVForm",ref:f,onSubmit:$(x,["prevent"])},{default:t(()=>[e(o,null,{default:t(()=>[e(p,{justify:"space-between",align:"end"},{default:t(()=>[e(o,null,{default:t(()=>[e(n,{rules:[a(c)],style:{width:"100%"},class:"pe-3",modelValue:a(l).name,"onUpdate:modelValue":s[0]||(s[0]=u=>a(l).name=u),label:"Name"},null,8,["rules","modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(U,{modelValue:a(l).type,"onUpdate:modelValue":s[1]||(s[1]=u=>a(l).type=u),items:[{name:"Extra",value:"extra"},{name:"Flavor",value:"flavor"}],rules:[a(c)],"item-title":"name","item-value":"value",style:{width:"100%","align-self":"flex-end"},label:"Type"},null,8,["modelValue","rules"])]),_:1}),e(o,null,{default:t(()=>[e(n,{rules:[a(c),a(A)],style:{width:"100%"},class:"pe-3",modelValue:a(l).price,"onUpdate:modelValue":s[2]||(s[2]=u=>a(l).price=u),label:"Price",disabled:a(b)},null,8,["rules","modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(p,{class:"pb-6 mt-8 px-3",align:"center",justify:"center"},{default:t(()=>[e(B,{block:r.$vuetify.display.xs,color:"primary",class:"px-12",loading:a(d),type:"submit"},{default:t(()=>[e(E,{start:"",icon:"tabler-check"}),T(_(r.$t("Add")),1)]),_:1},8,["block","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}};typeof y=="function"&&y(V);const X=g(V,[["__scopeId","data-v-f44787ed"]]);export{X as default};
