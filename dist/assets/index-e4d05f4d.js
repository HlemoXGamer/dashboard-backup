import{_ as O}from"./DialogCloseBtn-c824f2d7.js";import{r as z,b as L}from"./extra-flavors-fada5fda.js";import{D as R,O as h,l as m,aV as U,r as W,o as E,c as j,q as e,w as t,s as o,I as b,aX as w,H as y,y as p,az as k,G as B,n as T,z as C,F as J,R as q,b as G,W as H,U as F,t as M,aY as P,aZ as D,a_ as X}from"./index-ae436fe7.js";import{V as Y}from"./VDialog-3d6519df.js";import{V as Z}from"./VDataTable-ea7817f5.js";import"./VOverlay-b7c1cab0.js";import"./lazy-98a42def.js";import"./dialog-transition-568cfe1a.js";import"./VCheckboxBtn-b63b227c.js";import"./VSelectionControl-36f39ce1.js";import"./VSelect-37a65f33.js";import"./VList-5353bc34.js";import"./ssrBoot-23d40ca5.js";import"./VDivider-b42cad0f.js";import"./VMenu-2753b03a.js";import"./VChip-4bd7dba5.js";import"./filter-c9d71b19.js";import"./VTable-367a6ea3.js";const K={class:"d-flex gap-1"},Q={__name:"ExtraAndFlavorsTable",props:{extra_flavors:{type:Array,default:[]},search:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(x){const c=x,d=R(),r=d.t,_=h(()=>{if(d.locale.value==="en")return"name";if(d.locale.value==="ar")return"name"}),a=m([]),s=m(!1),f=U(),l=m(!1),v=h(()=>[{title:r("Code"),key:"code"},{title:r("Name"),key:_},{title:r("Type"),key:"type"},{title:r("Price"),key:"price"},{title:r("Actions"),sortable:!1,key:"actions"}]),A=(n,u,g,$)=>{const i=u;return g.raw.name.toLowerCase().includes(i.toLowerCase())?g.raw.name.toLowerCase().includes(i.toLowerCase()):!1};let V={};const I=n=>{V=n,a.value=JSON.stringify(n),a.value=JSON.parse(a.value),l.value=!0},S=async()=>{s.value=!0;try{await z(a.value),c.extra_flavors.splice(c.extra_flavors.indexOf(V),1),f.success("Extra/Flavor deleted successfully"),s.value=!1,l.value=!1}catch{f.error("Something Went Wrong"),l.value=!1}};return(n,u)=>{const g=O,$=W("IconBtn");return E(),j(J,null,[e(Y,{modelValue:o(l),"onUpdate:modelValue":u[2]||(u[2]=i=>B(l)?l.value=i:null),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(g,{onClick:u[0]||(u[0]=i=>l.value=!o(l))}),e(b,{title:"Delete Extra/Flavor"},{default:t(()=>[e(w,null,{default:t(()=>[y(p(n.$t("Are you sure that you want to delete this Extra Or Flavor?")),1)]),_:1}),e(w,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(k,{color:"secondary",variant:"tonal",onClick:u[1]||(u[1]=i=>l.value=!1),disabled:o(s)},{default:t(()=>[y(p(n.$t("Cancel")),1)]),_:1},8,["disabled"]),e(k,{onClick:S,loading:o(s)},{default:t(()=>[y(p(n.$t("Delete")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(b,{elevation:"0",rounded:"0",class:"px-0 mb-0 pb-5 mt-10 pt-2",loading:x.loading},{default:t(()=>[e(o(Z),{items:c.extra_flavors,headers:o(v),search:c.search,"custom-filter":A,"items-per-page":15},{"item.actions":t(({item:i})=>[T("div",K,[e($,{onClick:N=>n.$router.push(`extra-flavors/edit/${i.raw.id}`)},{default:t(()=>[e(C,{icon:"mdi-pencil-outline"})]),_:2},1032,["onClick"]),e($,null,{default:t(()=>[e(C,{icon:"mdi-delete-outline",onClick:N=>I(i.value)},null,8,["onClick"])]),_:2},1024)])]),_:1},8,["items","headers","search"])]),_:1},8,["loading"])],64)}}},ee={class:"text-h4 pt-3 pb-2 px-3"},ae={__name:"index",setup(x){const c=m([]),d=m(""),r=m(!1),_=()=>{r.value=!0,L().then(({data:a,meta:s})=>{c.value=a.data}).finally(()=>{r.value=!1})};return q(()=>{_()}),(a,s)=>{const f=X,l=Q;return E(),G(F,{class:"mt-4 px-4"},{default:t(()=>[e(H,{style:{"background-color":"rgb(var(--v-theme-surface))"},class:"rounded"},{default:t(()=>[T("p",ee,p(a.$t("Extra And Flavors")),1),e(F,{class:"ps-lg-1 pe-lg-5 ps-md-1 pe-md-5 ps-sm-1 pe-sm-5 mx-0 w-100",align:"center",justify:"space-between"},{default:t(()=>[e(f,{modelValue:o(d),"onUpdate:modelValue":s[0]||(s[0]=v=>B(d)?d.value=v:null),placeholder:a.$t("Search for an Extra and Flavors"),class:M(["mx-lg-2",a.$vuetify.display.xs?"w-100":""]),style:P(a.$vuetify.display.xs?"width: 100%;":"width: 300px;")},null,8,["modelValue","placeholder","class","style"]),e(k,{block:a.$vuetify.display.xs,class:"mt-lg-0 mt-md-0 mt-sm-0 mt-3",onClick:s[1]||(s[1]=v=>a.$router.push("extra-flavors/add/"))},{default:t(()=>[e(C,{start:"",icon:"tabler-plus"}),y(p(a.$t("Add Extra and Flavors")),1)]),_:1},8,["block"])]),_:1}),e(l,{loading:o(r),extra_flavors:o(c),search:o(d)},null,8,["loading","extra_flavors","search"])]),_:1})]),_:1})}}};typeof D=="function"&&D(ae);export{ae as default};
