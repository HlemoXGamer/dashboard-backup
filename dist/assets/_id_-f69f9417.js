import{aV as F,l as p,aP as k,O as h,R as S,o as U,b as E,w as t,q as e,a2 as d,n as N,y as v,s as a,a$ as $,b0 as B,a1 as m,b1 as i,az as R,z as T,H as j,aZ as b,a_ as C}from"./index-d6ee0790.js";import{s as I,u as q}from"./extra-flavors-d38cb0f9.js";import{V as z}from"./VSelect-f6eef58c.js";import"./VList-04897033.js";import"./ssrBoot-cd175d0d.js";import"./VDivider-0015d983.js";import"./dialog-transition-45eb91a5.js";import"./VMenu-37e652e5.js";import"./VOverlay-f86e0699.js";import"./lazy-11894c6a.js";import"./VCheckboxBtn-f7b189f4.js";import"./VSelectionControl-a6b68c41.js";import"./VChip-2f8d0b0e.js";const D={class:"text-h4 pt-3 pb-2"},M={__name:"[id]",setup(O){var V;const c=F(),n=p(!1),f=k().params.id,s=p({name:"",type:"",price:0,code:""}),y=p(),_=(V=JSON.parse(localStorage.getItem("userData")))==null?void 0:V.type,x=h(()=>s.value.type==="flavor"),g=async()=>{await I(f).then(o=>{let{name:l,type:u,price:r}=o.data.data;s.value={name:l,type:u,price:r}})},w=async()=>{var o;(o=y.value)==null||o.validate().then(async({valid:l})=>{if(l){n.value=!0;try{await q(f,s.value),n.value=!1,c.success("Extra-Flavor updated successfully")}catch(u){c.error(u.response.data.message),n.value=!1}}})};return S(()=>{_=="admin"&&g()}),(o,l)=>{const u=C;return U(),E(m,{class:"mt-4 px-4",justify:"space-around"},{default:t(()=>[e(d,{class:"pt-0"},{default:t(()=>[e(d,{class:"px-5 rounded",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[N("p",D,v(o.$t("Update Extra-Flavor")),1),e(a($),{ref_key:"refVForm",ref:y,onSubmit:B(w,["prevent"])},{default:t(()=>[e(d,null,{default:t(()=>[e(m,{justify:"space-between",align:"end"},{default:t(()=>[e(d,null,{default:t(()=>[e(u,{rules:[a(i)],style:{width:"100%"},class:"pe-3",modelValue:a(s).code,"onUpdate:modelValue":l[0]||(l[0]=r=>a(s).code=r),label:"Code"},null,8,["rules","modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(u,{rules:[a(i)],style:{width:"100%"},class:"pe-3",modelValue:a(s).name,"onUpdate:modelValue":l[1]||(l[1]=r=>a(s).name=r),label:"Name"},null,8,["rules","modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(z,{modelValue:a(s).type,"onUpdate:modelValue":l[2]||(l[2]=r=>a(s).type=r),items:[{name:"Extra",value:"extra"},{name:"Flavor",value:"flavor"}],rules:[a(i)],"item-title":"name","item-value":"value",style:{width:"100%","align-self":"flex-end"},label:"Type"},null,8,["modelValue","rules"])]),_:1}),e(d,null,{default:t(()=>[e(u,{rules:[a(i),o.integerValidator],style:{width:"100%"},class:"pe-3",modelValue:a(s).price,"onUpdate:modelValue":l[3]||(l[3]=r=>a(s).price=r),label:"Price",disabled:a(x)},null,8,["rules","modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(m,{class:"pb-6 mt-8 px-3",align:"center",justify:"center"},{default:t(()=>[e(R,{block:o.$vuetify.display.xs,color:"primary",class:"px-12",loading:a(n),type:"submit"},{default:t(()=>[e(T,{start:"",icon:"tabler-check"}),j(v(o.$t("Update")),1)]),_:1},8,["block","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}};typeof b=="function"&&b(M);export{M as default};
