import{_ as O}from"./DialogCloseBtn-513e4898.js";import{r as z,b as L}from"./extra-flavors-eedf8c1c.js";import{D as R,O as h,l as m,aV as j,r as J,o as E,c as U,q as e,w as t,s as o,I as b,aX as w,H as y,y as p,az as k,G as B,n as T,z as C,F as W,R as q,b as G,a2 as H,a1 as F,t as M,aY as P,aZ as D,a_ as X}from"./index-581c2083.js";import{V as Y}from"./VDialog-9c77a5f1.js";import{V as Z}from"./VDataTable-06e6a8ff.js";import"./VOverlay-b3d70df2.js";import"./lazy-e0bc52de.js";import"./dialog-transition-e2ab3ff7.js";import"./VCheckboxBtn-36803dae.js";import"./VSelectionControl-6e42f01a.js";import"./VSelect-91e75b33.js";import"./VList-800b0139.js";import"./ssrBoot-f2e19377.js";import"./VDivider-007f86e5.js";import"./VMenu-568d971d.js";import"./VChip-2cd4c1fb.js";import"./filter-887944dd.js";import"./VTable-db7fafcb.js";const K={class:"d-flex gap-1"},Q={__name:"ExtraAndFlavorsTable",props:{extra_flavors:{type:Array,default:[]},search:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(x){const c=x,i=R(),d=i.t,_=h(()=>{if(i.locale.value==="en")return"name";if(i.locale.value==="ar")return"name"}),a=m([]),s=m(!1),f=j(),l=m(!1),v=h(()=>[{title:d("Name"),key:_},{title:d("Type"),key:"type"},{title:d("Price"),key:"price"},{title:d("Actions"),sortable:!1,key:"actions"}]),A=(r,u,g,$)=>{const n=u;return g.raw.name.toLowerCase().includes(n.toLowerCase())?g.raw.name.toLowerCase().includes(n.toLowerCase()):!1};let V={};const I=r=>{V=r,a.value=JSON.stringify(r),a.value=JSON.parse(a.value),l.value=!0},S=async()=>{s.value=!0;try{await z(a.value),c.extra_flavors.splice(c.extra_flavors.indexOf(V),1),f.success("Extra/Flavor deleted successfully"),s.value=!1,l.value=!1}catch{f.error("Something Went Wrong"),l.value=!1}};return(r,u)=>{const g=O,$=J("IconBtn");return E(),U(W,null,[e(Y,{modelValue:o(l),"onUpdate:modelValue":u[2]||(u[2]=n=>B(l)?l.value=n:null),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(g,{onClick:u[0]||(u[0]=n=>l.value=!o(l))}),e(b,{title:"Delete Extra/Flavor"},{default:t(()=>[e(w,null,{default:t(()=>[y(p(r.$t("Are you sure that you want to delete this Extra Or Flavor?")),1)]),_:1}),e(w,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(k,{color:"secondary",variant:"tonal",onClick:u[1]||(u[1]=n=>l.value=!1),disabled:o(s)},{default:t(()=>[y(p(r.$t("Cancel")),1)]),_:1},8,["disabled"]),e(k,{onClick:S,loading:o(s)},{default:t(()=>[y(p(r.$t("Delete")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(b,{elevation:"0",rounded:"0",class:"px-0 mb-0 pb-5 mt-10 pt-2",loading:x.loading},{default:t(()=>[e(o(Z),{items:c.extra_flavors,headers:o(v),search:c.search,"custom-filter":A,"items-per-page":15},{"item.actions":t(({item:n})=>[T("div",K,[e($,{onClick:N=>r.$router.push(`extra-flavors/edit/${n.raw.id}`)},{default:t(()=>[e(C,{icon:"mdi-pencil-outline"})]),_:2},1032,["onClick"]),e($,null,{default:t(()=>[e(C,{icon:"mdi-delete-outline",onClick:N=>I(n.value)},null,8,["onClick"])]),_:2},1024)])]),_:1},8,["items","headers","search"])]),_:1},8,["loading"])],64)}}},ee={class:"text-h4 pt-3 pb-2 px-3"},ae={__name:"index",setup(x){const c=m([]),i=m(""),d=m(!1),_=()=>{d.value=!0,L().then(({data:a,meta:s})=>{c.value=a.data}).finally(()=>{d.value=!1})};return q(()=>{_()}),(a,s)=>{const f=X,l=Q;return E(),G(F,{class:"mt-4 px-4"},{default:t(()=>[e(H,{style:{"background-color":"rgb(var(--v-theme-surface))"},class:"rounded"},{default:t(()=>[T("p",ee,p(a.$t("Extra And Flavors")),1),e(F,{class:"ps-lg-1 pe-lg-5 ps-md-1 pe-md-5 ps-sm-1 pe-sm-5 mx-0 w-100",align:"center",justify:"space-between"},{default:t(()=>[e(f,{modelValue:o(i),"onUpdate:modelValue":s[0]||(s[0]=v=>B(i)?i.value=v:null),placeholder:a.$t("Search for an Extra and Flavors"),class:M(["mx-lg-2",a.$vuetify.display.xs?"w-100":""]),style:P(a.$vuetify.display.xs?"width: 100%;":"width: 300px;")},null,8,["modelValue","placeholder","class","style"]),e(k,{block:a.$vuetify.display.xs,class:"mt-lg-0 mt-md-0 mt-sm-0 mt-3",onClick:s[1]||(s[1]=v=>a.$router.push("extra-flavors/add/"))},{default:t(()=>[e(C,{start:"",icon:"tabler-plus"}),y(p(a.$t("Add Extra and Flavors")),1)]),_:1},8,["block"])]),_:1}),e(l,{loading:o(d),extra_flavors:o(c),search:o(i)},null,8,["loading","extra_flavors","search"])]),_:1})]),_:1})}}};typeof D=="function"&&D(ae);export{ae as default};
