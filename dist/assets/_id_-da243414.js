import{aV as F,l as d,aP as h,O as k,R as S,o as E,b as N,w as t,q as e,a2 as n,n as U,y as V,s as a,a$ as $,b0 as B,a1 as p,b1 as m,az as R,z as T,H as j,aZ as b,a_ as I}from"./index-581c2083.js";import{s as q,u as z}from"./extra-flavors-eedf8c1c.js";import{V as C}from"./VSelect-91e75b33.js";import"./VList-800b0139.js";import"./ssrBoot-f2e19377.js";import"./VDivider-007f86e5.js";import"./dialog-transition-e2ab3ff7.js";import"./VMenu-568d971d.js";import"./VOverlay-b3d70df2.js";import"./lazy-e0bc52de.js";import"./VCheckboxBtn-36803dae.js";import"./VSelectionControl-6e42f01a.js";import"./VChip-2cd4c1fb.js";const D={class:"text-h4 pt-3 pb-2"},M={__name:"[id]",setup(O){var v;const c=F(),i=d(!1),f=h().params.id,s=d({name:"",type:"",price:0}),y=d(),_=(v=JSON.parse(localStorage.getItem("userData")))==null?void 0:v.type,x=k(()=>s.value.type==="flavor"),g=async()=>{await q(f).then(o=>{let{name:l,type:u,price:r}=o.data.data;s.value={name:l,type:u,price:r}})},w=async()=>{var o;(o=y.value)==null||o.validate().then(async({valid:l})=>{if(l){i.value=!0;try{await z(f,s.value),i.value=!1,c.success("Extra-Flavor updated successfully")}catch(u){c.error(u.response.data.message),i.value=!1}}})};return S(()=>{_=="admin"&&g()}),(o,l)=>{const u=I;return E(),N(p,{class:"mt-4 px-4",justify:"space-around"},{default:t(()=>[e(n,{class:"pt-0"},{default:t(()=>[e(n,{class:"px-5 rounded",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[U("p",D,V(o.$t("Update Extra-Flavor")),1),e(a($),{ref_key:"refVForm",ref:y,onSubmit:B(w,["prevent"])},{default:t(()=>[e(n,null,{default:t(()=>[e(p,{justify:"space-between",align:"end"},{default:t(()=>[e(n,null,{default:t(()=>[e(u,{rules:[a(m)],style:{width:"100%"},class:"pe-3",modelValue:a(s).name,"onUpdate:modelValue":l[0]||(l[0]=r=>a(s).name=r),label:"Name"},null,8,["rules","modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(C,{modelValue:a(s).type,"onUpdate:modelValue":l[1]||(l[1]=r=>a(s).type=r),items:[{name:"Extra",value:"extra"},{name:"Flavor",value:"flavor"}],rules:[a(m)],"item-title":"name","item-value":"value",style:{width:"100%","align-self":"flex-end"},label:"Type"},null,8,["modelValue","rules"])]),_:1}),e(n,null,{default:t(()=>[e(u,{rules:[a(m),o.integerValidator],style:{width:"100%"},class:"pe-3",modelValue:a(s).price,"onUpdate:modelValue":l[2]||(l[2]=r=>a(s).price=r),label:"Price",disabled:a(x)},null,8,["rules","modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(p,{class:"pb-6 mt-8 px-3",align:"center",justify:"center"},{default:t(()=>[e(R,{block:o.$vuetify.display.xs,color:"primary",class:"px-12",loading:a(i),type:"submit"},{default:t(()=>[e(T,{start:"",icon:"tabler-check"}),j(V(o.$t("Update")),1)]),_:1},8,["block","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}};typeof b=="function"&&b(M);export{M as default};
