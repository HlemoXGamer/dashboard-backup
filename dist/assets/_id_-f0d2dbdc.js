import{aP as Q,l as n,O as G,R as me,o as V,b as j,w as l,q as t,n as m,y as a,c as Z,F as le,a as Re,s as e,W as k,a6 as ce,U as N,a$ as ye,b0 as ge,b2 as Pe,G as R,az as K,H as T,a_ as he,D as se,aV as ee,I as oe,aX as X,E as pe,t as ve,b1 as te,bc as Le,b3 as Ke,z as ze,C as He,A as J,aZ as be}from"./index-5f1e036d.js";import{V as Je}from"./VTable-0f962fff.js";import{_ as ue}from"./AppDateTimePicker-a5e2f7c6.js";import{u as We,b as Ee,c as Me,s as qe,d as Ye,e as Ge,f as Xe}from"./orders-0df664d3.js";import{V as ie}from"./VDialog-c2a8b0a4.js";import{V as Y}from"./VSelect-38820d74.js";import{a as Ze}from"./VList-99b9fa4c.js";import{u as $e,e as Qe,s as et,f as tt}from"./orders-9ecf0b1d.js";import{u as at,d as lt,s as st,e as rt}from"./orders-a35ec2f6.js";import{_ as dt,a as nt}from"./OrderDetails-64e6379c.js";import{V as ae}from"./VChip-c99b15f1.js";import{V as ot}from"./VSpacer-2f9f9117.js";import{a as ut}from"./branches-a15c6e52.js";import{g as it}from"./deliveries-70ea7bb7.js";import{g as ct}from"./branches-75c730bf.js";import{g as mt}from"./deliveries-22598667.js";import{g as pt}from"./deliveries-de63bbd8.js";import{s as vt}from"./orders-34fb5910.js";import{a as ft,g as _t}from"./branches-80ca8888.js";import{g as bt}from"./branches-69f428ba.js";import{g as yt}from"./deliveries-66f7db10.js";import"./VOverlay-315386a7.js";import"./lazy-9d6f5b63.js";import"./dialog-transition-c18f9302.js";import"./VMenu-9df5e73f.js";import"./VCheckboxBtn-0b3e4e8e.js";import"./VSelectionControl-82ad58b5.js";import"./ssrBoot-dcc7d968.js";import"./VDivider-ca899a5a.js";import"./DialogCloseBtn-35cd036e.js";const gt={class:"text-uppercase"},ht={class:"text-uppercase"},$t={class:"text-uppercase text-center"},wt={class:"text-center"},Dt={__name:"OrderHistory",setup(h){const s=JSON.parse(localStorage.getItem("userData")).type,i=Q(),v=n([]);G(()=>[{title:"history",key:"historyId"},{title:"order",key:"orderID"},{title:"User",key:"userID"},{title:"Description",key:"description"},{title:"Change Date",key:"changeDate"}]);const g=()=>{ce.get(`${s=="admin"?"":s=="logistic"?"logistic":s=="operation"?"operation":""}/order-history`,{params:{orderId:i.params.id}}).then(A=>{const o=A.data.data;v.value=o})};return me(()=>{g()}),(A,o)=>(V(),j(k,{cols:"12"},{default:l(()=>[t(Je,{class:"text-no-wrap",height:"500"},{default:l(()=>[m("thead",null,[m("tr",null,[m("th",gt,a(A.$t("Order Id")),1),m("th",ht,a(A.$t("Description")),1),m("th",$t,a(A.$t("Change At")),1)])]),m("tbody",null,[(V(!0),Z(le,null,Re(e(v),d=>(V(),Z("tr",{key:d.orderID},[m("td",null,a(d.orderID),1),m("td",null,a(d.description),1),m("td",wt,a(d.changeDate),1)]))),128))])]),_:1})]),_:1}))}},Vt={class:"text-h4 pt-3 mb-3"},kt={__name:"AdminRefund",setup(h){const s=n(),i=n(),v=G(()=>route.params.id),g=()=>{var A;(A=i.value)==null||A.validate().then(async({valid:o})=>{if(o){refundLoading.value=!0;try{await reFund({refund_amount:s.value,order_id:v.value}),toast.success("Order refunded successfully"),refundLoading.value=!1}catch(d){toast.error(d.response.data.message)}}})};return(A,o)=>{const d=he;return V(),j(k,{class:"mt-6 px-5 rounded pb-8 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",Vt,a(A.$t("Refund")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(ye,{ref_key:"refundForm",ref:i,onSubmit:ge(g,["prevent"]),class:"w-100"},{default:l(()=>[t(d,{rules:[e(Pe)],"prepend-inner-icon":"tabler-coins",placeholder:A.$t("Refund Amount"),style:{width:"100%"},variant:"outlined",class:"flex-grow-1",modelValue:e(s),"onUpdate:modelValue":o[0]||(o[0]=c=>R(s)?s.value=c:null)},null,8,["rules","placeholder","modelValue"]),t(K,{class:"mt-3",block:"",type:"submit",disabled:!e(s)||A.order.status=="created"},{default:l(()=>[T(a(A.$t("Refund")),1)]),_:1},8,["disabled"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}},St={class:"text-h4 pt-3 mb-3"},Ot={__name:"LogisticsOrderStatus",props:{order:{type:Object,default:{}},deliveries:{type:Array,default:[]},timeKey:{default:""},start:{type:String,default:""},end:{type:String,default:""}},emits:["status"],setup(h,{emit:s}){var U,b,x,$;const i=h,g=se().t,A=Q(),o=(U=JSON.parse(localStorage.getItem("userData")))==null?void 0:U.id,d=A.params.id,c=ee(),r=n((b=i.order)==null?void 0:b.status),p=n((x=i.order)==null?void 0:x.status),_=n(($=i.order)==null?void 0:$.delivery_man_id),S=n(),O=n(),P=n(i.start),C=n(i.end),D=n(!1),I=n(!1),B=n(!1),W=async()=>{B.value=!0;try{await We(d,{status:r.value,est_time:S.value}),O.value=r.value=="in_progress"||r.value=="paid"?r.value:"",c.success("Order updated successfully"),p.value=r.value,s("status",p.value),r.value,B.value=!1,D.value=!1}catch(w){c.error(w.response.data.message),B.value=!1,D.value=!1}},q=G(()=>{let w=[{name:g("Created"),value:"created",disabled:!0},{name:g("Paid"),value:"paid",disabled:!0},{name:g("In Progress"),value:"in_progress",disabled:!0},{name:g("Ready For Delivery"),value:"ready_for_delivery"},{name:g("On The Way"),value:"on_the_way"},{name:g("Delivered"),value:"delivered"},{name:g("Cancelled"),value:"cancelled",disabled:!0}],f=w.map(y=>y.value).indexOf(p.value);for(let y=0;y<=f;y++)w[y].disabled=!0;return w}),E=async()=>{I.value=!0,setTimeout(async()=>{try{await Ee({user_id:o,delivery_man_id:_.value,order_id:d}),c.success("Delivery man updated successfully"),I.value=!1}catch(w){c.error(w.response.data.message),I.value=!1}},500)},M=()=>{r.value!=="created"&&r.value!=="delivered"&&(D.value=!0)},z=()=>{D.value=!1,r.value=p.value};return me(()=>{s("status",p.value)}),(w,f)=>{const y=ue;return V(),Z(le,null,[t(ie,{modelValue:e(D),"onUpdate:modelValue":f[1]||(f[1]=H=>R(D)?D.value=H:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(oe,{title:"Delivery Time"},{default:l(()=>[t(X,null,{default:l(()=>[T(a(w.$t("Are you sure that you want to change the status")),1)]),_:1}),t(X,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(K,{color:"secondary",variant:"tonal",onClick:f[0]||(f[0]=H=>z())},{default:l(()=>[T(a(w.$t("Cancel")),1)]),_:1}),t(K,{onClick:W,loading:e(B)},{default:l(()=>[T(a(w.$t("Confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(k,{class:"mt-6 px-5 rounded pb-8 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",St,a(w.$t("Status")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(Y,{"onUpdate:modelValue":[M,f[2]||(f[2]=H=>R(r)?r.value=H:null)],items:e(q),"item-value":"value","item-title":"name","item-props":!0,modelValue:e(r),"prepend-inner-icon":"tabler-activity-heartbeat",placeholder:"Status",label:w.$t("Status"),style:{width:"100%"},variant:"outlined"},null,8,["items","modelValue","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[t(Y,{disabled:e(p)!=="ready_for_delivery",loading:e(I),"onUpdate:modelValue":[E,f[3]||(f[3]=H=>R(_)?_.value=H:null)],items:h.deliveries,"item-value":"id","item-title":"name","return-object":!1,modelValue:e(_),"prepend-inner-icon":"tabler-truck-delivery",placeholder:"Delivery",label:w.$t("Delivery"),style:{width:"100%"},variant:"outlined"},null,8,["disabled","loading","items","modelValue","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[(V(),j(y,{disabled:"",key:h.timeKey,modelValue:e(S),"onUpdate:modelValue":f[4]||(f[4]=H=>R(S)?S.value=H:null),"prepend-inner-icon":"tabler-calendar",placeholder:"Delivery Time",class:"flex-grow-1",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i",minTime:e(P),maxTime:e(C)}},null,8,["modelValue","config"])),t(K,{class:"mt-4",block:"",onClick:W,loading:e(B),disabled:e(O)==e(r)||e(r)=="paid"},{default:l(()=>[T("Save")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})],64)}}},xt={class:"text-h4 pt-3 mb-3"},At={__name:"OperationOrderStatus",props:{order:{type:Object,default:{}},deliveries:{type:Array,default:[]},timeKey:{default:""},start:{default:""},end:{default:""}},setup(h){var E,M,z;const s=h,v=se().t,g=ee(),o=Q().params.id,d=n((E=s.order)==null?void 0:E.status),c=n((M=s.order)==null?void 0:M.status),r=n((z=s.order)==null?void 0:z.delivery_man_id),p=n(),_=n(s.start),S=n(s.end),O=n(!1),P=n(!1),C=n(!1),D=async()=>{C.value=!0;try{await Me(o,{status:d.value,est_time:p.value}),g.success("Order updated successfully"),c.value=d.value,d.value,C.value=!1,O.value=!1}catch(U){console.log(U),g.error(U.response),C.value=!1,O.value=!1}},I=G(()=>{let U=[{name:v("Created"),value:"created",disabled:!0},{name:v("Paid"),value:"paid",disabled:!0},{name:v("In Progress"),value:"in_progress"},{name:v("Ready For Delivery"),value:"ready_for_delivery"},{name:v("On The Way"),value:"on_the_way"},{name:v("Delivered"),value:"delivered"},{name:v("Cancelled"),value:"cancelled"}],b=U.map(x=>x.value).indexOf(c.value);for(let x=0;x<=b;x++)U[x].disabled=!0;return U}),B=async()=>{},W=()=>{d.value!=="created"&&d.value!=="delivered"&&(O.value=!0)},q=()=>{O.value=!1,d.value=c.value};return(U,b)=>{const x=ue;return V(),Z(le,null,[t(ie,{modelValue:e(O),"onUpdate:modelValue":b[1]||(b[1]=$=>R(O)?O.value=$:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(oe,{title:"Delivery Time"},{default:l(()=>[t(X,null,{default:l(()=>[T(a(U.$t("Are you sure that you want to change the status")),1)]),_:1}),t(X,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(K,{color:"secondary",variant:"tonal",onClick:b[0]||(b[0]=$=>q())},{default:l(()=>[T(" Cancel ")]),_:1}),t(K,{onClick:D,loading:e(C)},{default:l(()=>[T(a(U.$t("Confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(k,{class:"mt-6 px-5 rounded pb-8 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",xt,a(U.$t("Status")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(Y,{disabled:"","onUpdate:modelValue":[W,b[2]||(b[2]=$=>R(d)?d.value=$:null)],items:e(I),"item-value":"value","item-title":"name","item-props":!0,modelValue:e(d),"prepend-inner-icon":"tabler-activity-heartbeat",placeholder:"Status",label:U.$t("Status"),style:{width:"100%"},variant:"outlined"},null,8,["items","modelValue","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[t(Y,{disabled:"",loading:e(P),"onUpdate:modelValue":[B,b[3]||(b[3]=$=>R(r)?r.value=$:null)],items:h.deliveries,"item-value":"id","item-title":"name","return-object":!1,modelValue:e(r),"prepend-inner-icon":"tabler-truck-delivery",placeholder:"Delivery",label:U.$t("Delivery"),style:{width:"100%"},variant:"outlined"},null,8,["loading","items","modelValue","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[(V(),j(x,{disabled:"",key:h.timeKey,modelValue:e(p),"onUpdate:modelValue":b[4]||(b[4]=$=>R(p)?p.value=$:null),"prepend-inner-icon":"tabler-calendar",placeholder:"Delivery Time",class:"flex-grow-1",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i",minTime:e(_),maxTime:e(S)}},null,8,["modelValue","config"])),t(K,{disabled:"",class:"mt-4",block:"",onClick:D,loading:e(C)},{default:l(()=>[T(a(U.$t("Save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],64)}}},Ct={class:"text-h4 pt-3 mb-3"},Tt={__name:"RestaurantOrderStatus",props:{order:{type:Object,default:{}},timeKey:{default:""},start:{default:""},end:{default:""}},setup(h){var b,x,$,w;const s=h,v=se().t,g=G(()=>[{id:0,name:v("Created"),value:"created",itemDisabled:!0},{id:1,name:v("Paid"),value:"paid",itemDisabled:!0,disabled:!0},{id:2,name:v("In Progress"),value:"in_progress",itemDisabled:!0},{id:3,name:v("Ready For Delivery"),value:"ready_for_delivery",itemDisabled:!0},{id:4,name:v("On The Way"),value:"on_the_way",itemDisabled:!0},{id:5,name:v("Delivered"),value:"delivered",itemDisabled:!0},{id:6,name:v("Cancelled"),value:"cancelled",itemDisabled:!0}]),A=Q(),o=ee(),d=n((b=s.order)==null?void 0:b.status);let c=g.value.findIndex(f=>f.value===d.value);const r=n((x=s.order)==null?void 0:x.delivery_man_id),p=n(($=s.order.est_time)==null?void 0:$.time),_=n([]),S=n([]),O=(w=JSON.parse(localStorage.getItem("userData")))==null?void 0:w.type,P=n({est_time:null,status:null}),C=JSON.parse(localStorage.getItem("userData"));n(s.start),n(s.end);const D=n(!1);n(!1);const I=n(!1),B=async()=>{P.value.est_time=p.value,P.value.status=d.value;try{await ce.post(`/restaurant-apis/orders/${A.params.id}`,P.value),c=g.value.findIndex(f=>f.value===d.value),o.success("Order Updated Successfully"),D.value=!1}catch(f){o.error(f.message),D.value=!1}},W=(f,y)=>{d.value=f,g.value[y+1].itemDisabled=!1,g.value[y-1].itemDisabled=!0,g.value.forEach((H,L)=>{H.value===d.value&&(H.itemDisabled=!1)}),g.value[4].itemDisabled=!0,g.value[5].itemDisabled=!0,g.value[6].itemDisabled=!0},q=()=>{d.value!=="created"&&d.value!=="delivered"&&(D.value=!0)},E=()=>{ce.get("/restaurant-apis/deliverymen").then(f=>{_.value=f.data.data,S.value=_.value.filter(y=>y.is_active===1||y.id===r.value)}).catch(f=>{})},M=n({order_id:A.params.id,delivery_man_id:r}),z=()=>{ce.put("/restaurant-apis/assign/delivery",M.value).then(f=>{S.value=_.value.filter(y=>y.is_active===1),o.success("Deliveryman Updated Successfully")}).catch(f=>{o.error(f.message)})},U=G(()=>d.value!=="ready_for_delivery");return pe(r,(f,y)=>{y!==void 0&&z()}),pe(d,(f,y)=>{y!==void 0&&q()}),me(()=>{O=="restaurant"&&(E(),setTimeout(()=>{c!==-1&&(g.value[c].itemDisabled=!1,g.value[c+1].itemDisabled=!1,g.value[4].itemDisabled=!0,g.value[5].itemDisabled=!0,g.value[6].itemDisabled=!0)},2e3))}),(f,y)=>{const H=ue;return V(),Z(le,null,[t(ie,{modelValue:e(D),"onUpdate:modelValue":y[1]||(y[1]=L=>R(D)?D.value=L:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(oe,{title:"Delivery Time"},{default:l(()=>[t(X,null,{default:l(()=>[T(a(f.$t("Are you sure that you want to change Status")),1)]),_:1}),t(X,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(K,{color:"secondary",variant:"tonal",onClick:y[0]||(y[0]=L=>D.value=!1)},{default:l(()=>[T(a(f.$t("Cancel")),1)]),_:1}),t(K,{onClick:B,loading:e(I)},{default:l(()=>[T(a(f.$t("Confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(k,{class:"mt-6 px-5 rounded pb-8 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",Ct,a(f.$t("Status")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(Y,{items:e(g),"item-value":"value","item-title":"name","item-props":!0,modelValue:e(d),"onUpdate:modelValue":y[2]||(y[2]=L=>R(d)?d.value=L:null),"prepend-inner-icon":"tabler-activity-heartbeat",placeholder:"Status",label:"Status",style:{width:"100%"},variant:"outlined"},{item:l(({item:L,index:u})=>{var F;return[t(Ze,{disabled:L.raw.itemDisabled||((F=L.raw)==null?void 0:F.disabled),active:L.value===e(d),class:"hoverEffect",onClick:fe=>W(L.value,u)},{default:l(()=>[T(a(L.title),1)]),_:2},1032,["disabled","active","onClick"])]}),_:1},8,["items","modelValue"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[t(Y,{disabled:e(U),items:e(S),"item-value":"id","item-title":"name","item-disabled":"itemDisabled","disable-lock":"","return-object":!1,modelValue:e(r),"onUpdate:modelValue":[y[3]||(y[3]=L=>R(r)?r.value=L:null),z],"prepend-inner-icon":"tabler-truck-delivery",placeholder:"Delivery",label:"Delivery",style:{width:"100%"},variant:"outlined"},null,8,["disabled","items","modelValue"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[(V(),j(H,{disabled:"",key:h.timeKey,modelValue:e(p),"onUpdate:modelValue":y[4]||(y[4]=L=>R(p)?p.value=L:null),"prepend-inner-icon":"tabler-calendar",placeholder:"Delivery Time",class:"flex-grow-1",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i",minTime:e(C).b_start,maxTime:e(C).b_end}},null,8,["modelValue","config"])),t(K,{class:"mt-4",block:"",onClick:B,loading:e(I),disabled:h.order.status=="delivered"||h.order.status=="paid"},{default:l(()=>[T(a(f.$t("Save")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})],64)}}},It={class:"text-h4 pt-3 mb-3"},jt={__name:"AgentOrderStatus",props:{order:{type:Object,default:{}},deliveries:{type:Array,default:[]},timeKey:{default:""},start:{type:String,default:""},end:{type:String,default:""}},setup(h){var z,U,b,x;const s=h,v=se().t,g=Q(),A=(z=JSON.parse(localStorage.getItem("userData")))==null?void 0:z.id,o=g.params.id,d=ee(),c=n((U=s.order)==null?void 0:U.status),r=n((b=s.order)==null?void 0:b.status),p=n((x=s.order)==null?void 0:x.delivery_man_id),_=n(),S=n(),O=n(s.start),P=n(s.end),C=n(!1),D=n(!1),I=n(!1),B=async()=>{I.value=!0;try{await $e(o,{status:c.value,est_time:_.value}),S.value=c.value=="in_progress"||c.value=="paid"?c.value:"",d.success("Order updated successfully"),r.value=c.value,c.value,I.value=!1,C.value=!1}catch($){d.error($.response),console.log($),I.value=!1,C.value=!1}},W=G(()=>{let $=[{name:v("Created"),value:"created",disabled:!0},{name:v("Paid"),value:"paid",disabled:!0},{name:v("In Progress"),value:"in_progress"},{name:v("Ready For Delivery"),value:"ready_for_delivery",disabled:!0},{name:v("On The Way"),value:"on_the_way",disabled:!0},{name:v("Delivered"),value:"delivered",disabled:!0},{name:v("Cancelled"),value:"cancelled",disabled:!0}],w=$.map(f=>f.value).indexOf(r.value);for(let f=0;f<=w;f++)$[f].disabled=!0;return $}),q=async()=>{D.value=!0,setTimeout(async()=>{try{await Qe({user_id:A,delivery_man_id:p.value,order_id:o}),d.success("Delivery man updated successfully"),D.value=!1}catch($){d.error($.response.data.message),D.value=!1}},500)},E=()=>{c.value!=="created"&&c.value!=="delivered"&&(C.value=!0)},M=()=>{C.value=!1,c.value=r.value};return($,w)=>{const f=ue;return V(),Z(le,null,[t(ie,{modelValue:e(C),"onUpdate:modelValue":w[1]||(w[1]=y=>R(C)?C.value=y:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(oe,{title:"Delivery Time"},{default:l(()=>[t(X,null,{default:l(()=>[T(a($.$t("Are you sure that you want to change the status")),1)]),_:1}),t(X,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(K,{color:"secondary",variant:"tonal",onClick:w[0]||(w[0]=y=>M())},{default:l(()=>[T(a($.$t("Cancel")),1)]),_:1}),t(K,{onClick:B,loading:e(I)},{default:l(()=>[T(a($.$t("Confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(k,{class:"mt-6 px-5 rounded pb-8 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",It,a($.$t("Status")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(Y,{"onUpdate:modelValue":[E,w[2]||(w[2]=y=>R(c)?c.value=y:null)],items:e(W),"item-value":"value","item-title":"name","item-props":!0,modelValue:e(c),"prepend-inner-icon":"tabler-activity-heartbeat",placeholder:"Status",label:$.$t("Status"),style:{width:"100%"},variant:"outlined"},null,8,["items","modelValue","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[t(Y,{disabled:"",loading:e(D),"onUpdate:modelValue":[q,w[3]||(w[3]=y=>R(p)?p.value=y:null)],items:h.deliveries,"item-value":"id","item-title":"name","return-object":!1,modelValue:e(p),"prepend-inner-icon":"tabler-truck-delivery",placeholder:"Delivery",label:$.$t("Delivery"),style:{width:"100%"},variant:"outlined"},null,8,["loading","items","modelValue","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[(V(),j(f,{key:h.timeKey,modelValue:e(_),"onUpdate:modelValue":w[4]||(w[4]=y=>R(_)?_.value=y:null),"prepend-inner-icon":"tabler-calendar",placeholder:"Delivery Time",class:"flex-grow-1",disabled:"",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i",minTime:e(O),maxTime:e(P)}},null,8,["modelValue","config"])),t(K,{class:"mt-4",block:"",onClick:B,loading:e(I),disabled:e(S)==e(c)||e(c)=="paid"||e(c)=="ready_for_delivery"},{default:l(()=>[T(a($.$t("Save")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})],64)}}},Nt={class:"text-h4 pt-3 mb-3"},Ut={__name:"AdminOrderStatus",props:{order:{type:Object,default:{}},deliveries:{type:Array,default:[]},timeKey:{default:""},start:{default:""},end:{default:""}},setup(h){var E,M,z,U;const s=h,v=se().t,g=ee(),o=Q().params.id,d=n((E=s.order)==null?void 0:E.status),c=n((M=s.order)==null?void 0:M.status),r=n((z=s.order)==null?void 0:z.delivery_man_id),p=n((U=s.order.est_time)==null?void 0:U.time),_=n(s.start),S=n(s.end),O=n(!1),P=n(!1),C=n(!1),D=async()=>{C.value=!0;try{await at(o,{status:d.value,est_time:p.value}),g.success("Order updated successfully"),c.value=d.value,d.value,C.value=!1,O.value=!1}catch(b){console.log(b),g.error(b.response),C.value=!1,O.value=!1}},I=G(()=>{let b=[{name:v("Created"),value:"created",disabled:!0},{name:v("Paid"),value:"paid",disabled:!0},{name:v("In Progress"),value:"in_progress"},{name:v("Ready For Delivery"),value:"ready_for_delivery"},{name:v("On The Way"),value:"on_the_way"},{name:v("Delivered"),value:"delivered"},{name:v("Cancelled"),value:"cancelled"}],x=b.map($=>$.value).indexOf(c.value);for(let $=0;$<=x;$++)b[$].disabled=!0;return b}),B=async()=>{P.value=!0,setTimeout(async()=>{try{await lt({delivery_man_id:r.value,order_id:o}),g.success("Delivery man updated successfully"),P.value=!1}catch(b){g.error(b.response.data.message),P.value=!1}},500)},W=()=>{d.value!=="created"&&d.value!=="delivered"&&(O.value=!0)},q=()=>{O.value=!1,d.value=c.value};return(b,x)=>{const $=ue;return V(),Z(le,null,[t(ie,{modelValue:e(O),"onUpdate:modelValue":x[1]||(x[1]=w=>R(O)?O.value=w:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(oe,{title:"Delivery Time"},{default:l(()=>[t(X,null,{default:l(()=>[T(a(b.$t("Are you sure that you want to change the status")),1)]),_:1}),t(X,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(K,{color:"secondary",variant:"tonal",onClick:x[0]||(x[0]=w=>q())},{default:l(()=>[T(a(b.$t("Cancel")),1)]),_:1}),t(K,{onClick:D,loading:e(C)},{default:l(()=>[T(a(b.$t("Confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(k,{class:"mt-6 px-5 rounded pb-8 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",Nt,a(b.$t("Status")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(Y,{"onUpdate:modelValue":[W,x[2]||(x[2]=w=>R(d)?d.value=w:null)],items:e(I),"item-value":"value","item-title":"name","item-props":!0,modelValue:e(d),"prepend-inner-icon":"tabler-activity-heartbeat",placeholder:b.$t("Status"),label:b.$t("Status"),style:{width:"100%"},variant:"outlined"},null,8,["items","modelValue","placeholder","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[t(Y,{disabled:e(P),loading:e(P),"onUpdate:modelValue":[B,x[3]||(x[3]=w=>R(r)?r.value=w:null)],items:h.deliveries,"item-value":"id","item-title":"name","return-object":!1,modelValue:e(r),"prepend-inner-icon":"tabler-truck-delivery",placeholder:b.$t("Delivery"),label:b.$t("Delivery"),style:{width:"100%"},variant:"outlined"},null,8,["disabled","loading","items","modelValue","placeholder","label"])]),_:1}),t(N,{justify:"space-between",align:"center",class:"mt-7"},{default:l(()=>[(V(),j($,{disabled:"",key:h.timeKey,modelValue:e(p),"onUpdate:modelValue":x[4]||(x[4]=w=>R(p)?p.value=w:null),"prepend-inner-icon":"tabler-calendar",placeholder:b.$t("Delivery Time"),class:"flex-grow-1",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i",minTime:e(_),maxTime:e(S)}},null,8,["modelValue","placeholder","config"])),t(K,{class:"mt-4",block:"",onClick:D,loading:e(C),disabled:h.order.status=="delivered"||h.order.status=="paid"},{default:l(()=>[T(a(b.$t("Save")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})],64)}}},Bt={class:"text-h4 pt-3 mb-1"},Ft={__name:"AdminAgentNote",props:{order:{type:Object,default:{}}},setup(h){return(s,i)=>(V(),j(k,{class:"mt-7 px-5 rounded pb-6",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",Bt,a(s.$t("Agent Note")),1),t(k,null,{default:l(()=>[m("p",{class:ve(["text-h5 pt-0 mb-0",h.order.agent_note!==""?"text-left":"text-center"])},a(h.order.agent_note!==""?h.order.agent_note:"There is no agent note!"),3)]),_:1})]),_:1}))}},Rt={class:"text-h4 pt-3 mb-4"},Pt={class:"text-h6 pt-3 mb-0"},Lt={class:"text-h6 pt-3 mb-0"},Kt={class:"text-h6 pt-3 mb-0"},zt={class:"text-h6 pt-3 mb-0"},Ht={class:"text-h6 pt-3 mb-0"},Jt={class:"text-h6 pt-3 mb-0"},Wt={__name:"RestaurantAddressDetails",props:{order:{type:Object,default:{}}},setup(h){const s=h;return(i,v)=>(V(),j(k,{class:"mt-7 px-5 rounded pb-6",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[t(N,{class:"px-4 pt-3",align:"center",justify:"space-between"},{default:l(()=>[m("p",Rt,a(i.$t("Address Details")),1),t(ae,{size:"default",label:"",color:"primary"},{default:l(()=>[T(a(s.order.branch_name),1)]),_:1})]),_:1}),t(k,null,{default:l(()=>[m("p",Pt,a(i.$t("Customer Name"))+" : "+a(s.order.customer_name),1),m("p",Lt,a(s.order.address_city)+" , "+a(s.order.address_area_name),1),m("p",Kt,a(i.$t("Street Name"))+" "+a(s.order.address_street_name),1),m("p",zt,a(i.$t("Building Number"))+" "+a(s.order.address_building_no)+", "+a(i.$t("Floor"))+" "+a(s.order.address_floor)+", "+a(i.$t("Apartment"))+" "+a(s.order.address_apartment),1),m("p",Ht,a(i.$t("Block Number"))+" "+a(s.order.block_no),1),m("p",Jt,a(i.$t("Phone Number"))+" : "+a(s.order.address_phone),1)]),_:1})]),_:1}))}},Et={class:"text-h4 pt-3 mb-4"},Mt={class:"text-h6 pt-3 mb-0"},qt={class:"text-h6 pt-3 mb-0"},Yt={class:"text-h6 pt-3 mb-0"},Gt={class:"text-h6 pt-3 mb-0"},Xt={class:"text-h6 pt-3 mb-0"},Zt={class:"text-h6 pt-3 mb-0"},Qt={__name:"LogisticsAddressDetails",props:{order:{type:Object,default:{}}},setup(h){const s=h;return(i,v)=>(V(),j(k,{class:"mt-7 px-5 rounded pb-b",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[t(N,{class:"px-4 pt-3",align:"center",justify:"space-between"},{default:l(()=>[m("p",Et,a(i.$t("Address Details")),1),t(ae,{size:"default",label:"",color:"primary"},{default:l(()=>[T(a(s.order.branch_name),1)]),_:1})]),_:1}),t(k,null,{default:l(()=>[m("p",Mt,a(i.$t("Customer Name"))+" : "+a(s.order.customer_name),1),m("p",qt,a(s.order.address_city)+" , "+a(s.order.address_area_name),1),m("p",Yt,a(i.$t("Street Name"))+" "+a(s.order.address_street_name),1),m("p",Gt,a(i.$t("Building Number"))+" "+a(s.order.address_building_no)+", "+a(i.$t("Floor"))+" "+a(s.order.address_floor)+", "+a(i.$t("Apartment"))+" "+a(s.order.address_apartment),1),m("p",Xt,a(i.$t("Block Number"))+" "+a(s.order.block_no),1),m("p",Zt,a(i.$t("Phone Number"))+" : "+a(s.order.address_phone),1)]),_:1})]),_:1}))}},ea={class:"text-h4 pt-3 mb-4"},ta={__name:"AgentAddressDetails",props:{areas:{type:Array,default:[]},order:{type:Object,default:{}}},setup(h){const s=h,v=Q().params.id,g=ee(),A=n(),o=n(!1),d=n({address_apartment:s.order.address_apartment,address_building_no:s.order.address_building_no,address_phone:s.order.address_phone,address_street_name:s.order.address_street_name,address_floor:s.order.address_floor,block_no:s.order.block_no}),c=async()=>{var r;(r=A.value)==null||r.validate().then(async({valid:p})=>{if(p){o.value=!0;try{await $e(v,d.value),g.success("Order updated successfully"),o.value=!1}catch(_){g.error(_.response.data.message),o.value=!1}}})};return(r,p)=>{const _=he;return V(),j(k,{class:"mt-7 px-2 rounded pb-2",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[t(N,{class:"px-6 pt-3",align:"center",justify:"space-between"},{default:l(()=>[m("p",ea,a(r.$t("Address Details")),1),t(ot),t(ae,{size:"default",label:"",class:"me-3",color:"success"},{default:l(()=>[T(a(h.order.address_area),1)]),_:1}),t(ae,{size:"default",label:"",color:"primary"},{default:l(()=>[T(a(h.order.branch_name),1)]),_:1})]),_:1}),t(k,null,{default:l(()=>[t(k,null,{default:l(()=>[t(ye,{ref_key:"addressForm",ref:A,onSubmit:ge(c,["prevent"])},{default:l(()=>[t(N,{justify:"space-between",align:"start"},{default:l(()=>[t(_,{"prepend-inner-icon":"tabler-phone",label:r.$t("Phone Number"),rules:[e(te),e(Le),e(Ke)],placeholder:"Phone Number",class:"flex-grow-1 mx-2 my-1",modelValue:e(d).address_phone,"onUpdate:modelValue":p[0]||(p[0]=S=>e(d).address_phone=S)},null,8,["label","rules","modelValue"]),t(_,{"prepend-inner-icon":"tabler-container",label:r.$t("Building Number"),rules:[e(te)],placeholder:"Building Number",class:"flex-grow-1 mx-2 my-1",modelValue:e(d).address_building_no,"onUpdate:modelValue":p[1]||(p[1]=S=>e(d).address_building_no=S)},null,8,["label","rules","modelValue"])]),_:1}),t(N,{justify:"space-between",align:"start",class:"mt-6"},{default:l(()=>[t(_,{"prepend-inner-icon":"tabler-stairs",placeholder:"Floor",label:r.$t("Floor"),rules:[e(te)],class:"flex-grow-1 mx-2 my-1",modelValue:e(d).address_floor,"onUpdate:modelValue":p[2]||(p[2]=S=>e(d).address_floor=S)},null,8,["label","rules","modelValue"]),t(_,{"prepend-inner-icon":"tabler-window",label:r.$t("Apartment"),rules:[e(te)],placeholder:"Apartment",class:"flex-grow-1 mx-2 my-1",modelValue:e(d).address_apartment,"onUpdate:modelValue":p[3]||(p[3]=S=>e(d).address_apartment=S)},null,8,["label","rules","modelValue"])]),_:1}),t(N,{justify:"space-between",align:"start",class:"mt-6"},{default:l(()=>[t(_,{"prepend-inner-icon":"tabler-road",placeholder:"Street Name",rules:[e(te)],label:r.$t("Street Name"),class:"flex-grow-1 mx-2 my-1",modelValue:e(d).address_street_name,"onUpdate:modelValue":p[4]||(p[4]=S=>e(d).address_street_name=S)},null,8,["rules","label","modelValue"]),t(_,{"prepend-inner-icon":"tabler-number",rules:[e(te)],label:r.$t("Block Number"),placeholder:"Block Number",class:"flex-grow-1 mx-2 my-1",modelValue:e(d).block_no,"onUpdate:modelValue":p[5]||(p[5]=S=>e(d).block_no=S)},null,8,["rules","label","modelValue"])]),_:1}),t(K,{class:"mt-7",block:"",type:"submit",loading:e(o)},{default:l(()=>[t(ze,{icon:"tabler-check"}),T(" "+a(r.$t("Update")),1)]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}},aa={class:"text-h4 pt-3 mb-4"},la={class:"text-h6 pt-3 mb-0"},sa={class:"text-h6 pt-3 mb-0"},ra={class:"text-h6 pt-3 mb-0"},da={class:"text-h6 pt-3 mb-0"},na={class:"text-h6 pt-3 mb-0"},oa={class:"text-h6 pt-3 mb-0"},ua={__name:"OperationAddressDetails",props:{order:{type:Object,default:{}}},setup(h){const s=h;return(i,v)=>(V(),j(k,{class:"mt-7 px-5 rounded pb-6",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[t(N,{class:"px-4 pt-3",align:"center",justify:"space-between"},{default:l(()=>[m("p",aa,a(i.$t("Address Details")),1),t(ae,{size:"default",label:"",color:"primary"},{default:l(()=>[T(a(s.order.branch_name),1)]),_:1})]),_:1}),t(k,null,{default:l(()=>[m("p",la,a(i.$t("Customer Name"))+" : "+a(s.order.customer_name),1),m("p",sa,a(s.order.address_city)+" , "+a(s.order.address_area_name),1),m("p",ra,a(i.$t("Street Name"))+" "+a(s.order.address_street_name),1),m("p",da,a(i.$t("Building Number"))+" "+a(s.order.address_building_no)+", "+a(i.$t("Floor"))+" "+a(s.order.address_floor)+", "+a(i.$t("Apartment"))+" "+a(s.order.address_apartment),1),m("p",na,a(i.$t("Block Number"))+" "+a(s.order.block_no),1),m("p",oa,a(i.$t("Phone Number"))+" : "+a(s.order.address_phone),1)]),_:1})]),_:1}))}},ia={class:"text-h4 pt-3 mb-4"},ca={class:"text-h6 pt-3 mb-0"},ma={class:"text-h6 pt-3 mb-0"},pa={class:"text-h6 pt-3 mb-0"},va={class:"text-h6 pt-3 mb-0"},fa={class:"text-h6 pt-3 mb-0"},_a={class:"text-h6 pt-3 mb-0"},ba={__name:"AdminAddressDetails",props:{order:{type:Object,default:{}}},setup(h){const s=h;return(i,v)=>(V(),j(k,{class:"mt-7 px-5 rounded pb-6",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[t(N,{class:"px-4 pt-3",align:"center",justify:"space-between"},{default:l(()=>[m("p",ia,a(i.$t("Address Details")),1),t(ae,{size:"default",label:"",color:"primary"},{default:l(()=>[T(a(s.order.branch_name),1)]),_:1})]),_:1}),t(k,null,{default:l(()=>[m("p",ca,a(i.$t("Customer Name"))+" : "+a(s.order.customer_name),1),m("p",ma,a(s.order.address_city)+" , "+a(s.order.address_area_name),1),m("p",pa,a(i.$t("Street Name"))+" "+a(s.order.address_street_name),1),m("p",va,a(i.$t("Building Number"))+" "+a(s.order.address_building_no)+", "+a(i.$t("Floor"))+" "+a(s.order.address_floor)+", "+a(i.$t("Apartment"))+" "+a(s.order.address_apartment),1),m("p",fa,a(i.$t("Block Number"))+" "+a(s.order.block_no),1),m("p",_a,a(i.$t("Phone Number"))+" : "+a(s.order.address_phone),1)]),_:1})]),_:1}))}};const ya={class:"text-h3 pt-3 pb-0 mb-3 text-left"},ga={key:0,class:"text-h5 pt-3 pb-0 mb-3 text-right"},ha={class:"text-h4 pt-3 mb-1"},$a={class:"text-h4 pt-3 mb-1"},wa={class:"text-h4 pt-3 mb-3"},we={__name:"[id]",setup(h){var L;const s=se();s.t;const i=G(()=>{if(s.locale.value==="en")return"name_en";if(s.locale.value==="ar")return"name_ar"});let v=Q();const g=ee();n(!1);const A=n(!1),o=(L=JSON.parse(localStorage.getItem("userData")))==null?void 0:L.type,d=n([]),c=G(()=>v.params.id);pe(()=>v.params.id,(u,F)=>{W()});const r=n([]),p=n([]),_=n(null),S=n(null),O=n([]),P=n(null),C=n(null),D=n(null),I=n(null),B=n(0),W=async()=>{o=="admin"&&c.value!=null?await st(c.value).then(u=>{r.value=u.data.data,_.value=u.data.data.branch_id,S.value=u.data.data.status,P.value=u.data.data.delivery_man_id,C.value=u.data.data.est_time.time}):o=="agent"&&c.value!=null?await et(c.value).then(u=>{r.value=u.data.data,_.value=u.data.data.branch_id,S.value=u.data.data.status,P.value=u.data.data.delivery_man_id,C.value=u.data.data.est_time.time}):o=="restaurant"&&c.value!=null?await vt(c.value).then(u=>{r.value=u.data.data,_.value=u.data.data.branch_id,S.value=u.data.data.status,P.value=u.data.data.delivery_man_id,C.value=u.data.data.est_time.time}):o=="operation"&&c.value!=null?await qe(c.value).then(u=>{r.value=u.data.data,_.value=u.data.data.branch_id,S.value=u.data.data.status,P.value=u.data.data.delivery_man_id,C.value=u.data.data.est_time.time}):o=="logistic"&&c.value!=null&&await Ye(c.value).then(u=>{r.value=u.data.data,_.value=u.data.data.branch_id,S.value=u.data.data.status,P.value=u.data.data.delivery_man_id,C.value=u.data.data.est_time.time})},q=async()=>{await ut().then(({data:u})=>{p.value=u.data.filter(F=>F.is_active===1),d.value=p.value.find(F=>F.id===_.value),D.value=new Date().toTimeString().slice(0,5),I.value=d.value.end,B.value+=1})},E=async()=>{await ft().then(({data:u})=>{p.value=u.data.filter(F=>F.is_active===1),d.value=p.value.find(F=>F.id===_.value),D.value=new Date().toTimeString().slice(0,5),I.value=d.value.end,B.value+=1})},M=async()=>{await bt().then(({data:u})=>{p.value=u.data.filter(F=>F.is_active===1),d.value=p.value.find(F=>F.id===_.value),D.value=new Date().toTimeString().slice(0,5),I.value=d.value.end,B.value+=1})},z=async()=>{await ct().then(({data:u})=>{p.value=u.data.filter(F=>F.is_active===1),d.value=p.value.find(F=>F.id===_.value),D.value=new Date().toTimeString().slice(0,5),I.value=d.value.end,B.value+=1})},U=async()=>{await it().then(u=>{O.value=u.data.data})},b=async()=>{await mt().then(u=>{O.value=u.data.data})},x=async()=>{await pt().then(u=>{O.value=u.data.data})},$=async()=>{await _t().then(u=>{O.value=u.data.data})},w=async()=>{await yt().then(u=>{O.value=u.data.data})},f=async()=>{A.value=!0;try{o=="admin"?await rt({order_id:c.value,branch_id:_.value}):o=="agent"?await tt({order_id:c.value,branch_id:_.value}):o=="operation"?await Ge({order_id:c.value,branch_id:_.value}):o=="logistic"&&await Xe({order_id:c.value,branch_id:_.value}),g.success("Order Branch updated successfully"),A.value=!1}catch(u){g.error(u.response.data.message),A.value=!1}},y=n(!1),H=u=>{u=="delivered"&&(y.value=!0)};return me(()=>{W(),o=="admin"?(q(),U()):o=="agent"?(z(),b()):o=="restaurant"?x():o=="operation"?(E(),$()):o=="logistic"&&(M(),w())}),(u,F)=>{const fe=dt,De=ba,Ve=ua,ke=ta,Se=Qt,Oe=Wt,xe=Ft,Ae=nt,Ce=Ut,Te=jt,Ie=Tt,je=At,Ne=Ot,Ue=kt,Be=Dt;return V(),Z("div",{key:e(r).id},[t(N,{class:"mt-4 px-2",justify:"space-around"},{default:l(()=>[t(k,{class:"pt-0",cols:"12"},{default:l(()=>[t(N,{align:"center",justify:"space-between",class:"mx-0 my-0"},{default:l(()=>{var re,de,ne;return[m("p",ya,"#"+a(e(r).id),1),e(r).delivery_date?(V(),Z("strong",ga,a(u.$t("Delivery Date"))+": "+a(e(o)=="operation"||e(o)=="logistic"?(re=e(r))==null?void 0:re.delivery_date:e(o)=="agent"?e(r).delivery_date:(de=e(r).delivery_date)==null?void 0:de.day)+" "+a(e(o)!=="operation"&&e(o)!=="logistic"&&e(o)!=="agent"&&e(o)!=="restaurant"?"|"+((ne=e(r).delivery_date)==null?void 0:ne.time):"")+" "+a(e(o)==="restaurant"?e(r).delivery_date:""),1)):J("",!0)]}),_:1})]),_:1}),t(k,{class:"pt-0",cols:u.$vuetify.display.smAndDown?12:8},{default:l(()=>[t(fe,{products:e(r).products},null,8,["products"]),e(o)=="admin"?(V(),j(De,{key:0,order:e(r)},null,8,["order"])):J("",!0),e(o)=="operation"?(V(),j(Ve,{key:1,order:e(r)},null,8,["order"])):J("",!0),e(o)=="agent"?(V(),j(ke,{key:2,order:e(r)},null,8,["order"])):J("",!0),e(o)=="logistic"?(V(),j(Se,{key:3,order:e(r)},null,8,["order"])):J("",!0),e(o)=="restaurant"?(V(),j(Oe,{key:4,order:e(r)},null,8,["order"])):J("",!0),t(k,{class:"mt-7 px-5 rounded pb-6",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",ha,a(u.$t("Customer Review")),1),t(k,null,{default:l(()=>[m("p",{class:ve(["text-h5 pt-0 mb-0",e(r).review!==null?"text-left":"text-center"])},a(e(r).complain!==null?e(r).complain:"No Reviews Yet!"),3)]),_:1})]),_:1}),t(k,{class:"mt-7 px-5 rounded pb-6",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",$a,a(u.$t("Customer Complaint")),1),t(k,null,{default:l(()=>[m("p",{class:ve(["text-h5 pt-0 mb-0",e(r).complain!==null?"text-left":"text-center"])},a(e(r).complain!==null?e(r).complain:"No Complains Yet!"),3)]),_:1})]),_:1}),e(o)=="admin"?(V(),j(xe,{key:5,order:e(r)},null,8,["order"])):J("",!0)]),_:1},8,["cols"]),t(k,{class:"pt-0",cols:u.$vuetify.display.smAndDown?12:4},{default:l(()=>{var re,de,ne,_e;return[t(Ae,{total:e(r).total,paymentMethod:e(r).payment_method,subtotal:e(r).sub_total,newtotal:(re=e(r))==null?void 0:re.new_total,discountType:(de=e(r))==null?void 0:de.discount_type,discountRate:(ne=e(r))==null?void 0:ne.discount_rate,deliveryCost:(_e=e(r))==null?void 0:_e.delivery_cost,extraCost:10},null,8,["total","paymentMethod","subtotal","newtotal","discountType","discountRate","deliveryCost"]),e(o)=="admin"||e(o)=="agent"||e(o)=="operation"||e(o)=="logistic"?(V(),j(k,{key:0,class:"mt-6 px-5 rounded pb-9 w-100 mx-auto",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:l(()=>[m("p",wa,a(u.$t("Branch")),1),t(k,null,{default:l(()=>[t(N,{justify:"space-between",align:"center"},{default:l(()=>[t(Y,{disabled:e(y),items:e(p),"item-value":"id","item-title":e(i),modelValue:e(_),"onUpdate:modelValue":F[0]||(F[0]=Fe=>R(_)?_.value=Fe:null),"prepend-inner-icon":"tabler-building-store",placeholder:"Select a Branch",label:u.$t("Branch"),style:{width:"100%"},variant:"outlined"},null,8,["disabled","items","item-title","modelValue","label"]),t(K,{disabled:e(y),class:"mt-3",loading:e(A),block:"",onClick:f},{default:l(()=>[T(a(u.$t("Update")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})):J("",!0),e(o)=="admin"?(V(),j(Ce,{deliveries:e(O),order:e(r),start:e(D),end:e(I),key:e(B)},null,8,["deliveries","order","start","end"])):J("",!0),e(o)=="agent"?(V(),j(Te,{deliveries:e(O),order:e(r),start:e(D),end:e(I),key:e(B)},null,8,["deliveries","order","start","end"])):J("",!0),e(o)=="restaurant"?(V(),j(Ie,{order:e(r),start:e(D),end:e(I),key:e(B)},null,8,["order","start","end"])):J("",!0),e(o)=="operation"?(V(),j(je,{deliveries:e(O),order:e(r),start:e(D),end:e(I),key:e(B)},null,8,["deliveries","order","start","end"])):J("",!0),e(o)=="logistic"?(V(),j(Ne,{deliveries:e(O),order:e(r),start:e(D),end:e(I),key:e(B),onStatus:H},null,8,["deliveries","order","start","end"])):J("",!0),e(o)=="admin"?(V(),j(Ue,{key:6})):J("",!0)]}),_:1},8,["cols"]),e(o)=="admin"||e(o)=="logistic"||e(o)=="operation"?(V(),j(Be,{key:0})):J("",!0)]),_:1})])}}};typeof be=="function"&&be(we);const Qa=He(we,[["__scopeId","data-v-a4f397cf"]]);export{Qa as default};
