import{aV as k,l as p,aP as h,O as U,R as S,o as E,b as N,w as t,q as e,W as d,n as $,y as v,s as a,a$ as B,b0 as R,U as m,b1 as i,az as T,z as j,H as C,aZ as b,a_ as I}from"./index-04115924.js";import{s as q,u as z}from"./extra-flavors-a5f5c9bf.js";import{V as D}from"./VSelect-b28e20f0.js";import"./VList-33cd6313.js";import"./ssrBoot-05b57ea4.js";import"./VDivider-16655635.js";import"./dialog-transition-0e7f4099.js";import"./VMenu-53d5da8a.js";import"./VOverlay-eb522f5f.js";import"./lazy-ad388632.js";import"./VCheckboxBtn-93904dd4.js";import"./VSelectionControl-a6101bca.js";import"./VChip-dd1f80aa.js";const M={class:"text-h4 pt-3 pb-2"},O={__name:"[id]",setup(P){var V;const c=k(),n=p(!1),f=h().params.id,s=p({name:"",type:"",price:0,code:""}),y=p(),_=(V=JSON.parse(localStorage.getItem("userData")))==null?void 0:V.type,x=U(()=>s.value.type==="flavor"),g=async()=>{await q(f).then(o=>{let{name:l,type:u,price:r,code:F}=o.data.data;s.value={name:l,type:u,price:r,code:F}})},w=async()=>{var o;(o=y.value)==null||o.validate().then(async({valid:l})=>{if(l){n.value=!0;try{await z(f,s.value),n.value=!1,c.success("Extra-Flavor updated successfully")}catch(u){c.error(u.response.data.message),n.value=!1}}})};return S(()=>{_=="admin"&&g()}),(o,l)=>{const u=I;return E(),N(m,{class:"mt-4 px-4",justify:"space-around"},{default:t(()=>[e(d,{class:"pt-0"},{default:t(()=>[e(d,{class:"px-5 rounded",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[$("p",M,v(o.$t("Update Extra-Flavor")),1),e(a(B),{ref_key:"refVForm",ref:y,onSubmit:R(w,["prevent"])},{default:t(()=>[e(d,null,{default:t(()=>[e(m,{justify:"space-between",align:"end"},{default:t(()=>[e(d,null,{default:t(()=>[e(u,{rules:[a(i)],style:{width:"100%"},class:"pe-3",modelValue:a(s).code,"onUpdate:modelValue":l[0]||(l[0]=r=>a(s).code=r),label:"Code"},null,8,["rules","modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(u,{rules:[a(i)],style:{width:"100%"},class:"pe-3",modelValue:a(s).name,"onUpdate:modelValue":l[1]||(l[1]=r=>a(s).name=r),label:"Name"},null,8,["rules","modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(D,{modelValue:a(s).type,"onUpdate:modelValue":l[2]||(l[2]=r=>a(s).type=r),items:[{name:"Extra",value:"extra"},{name:"Flavor",value:"flavor"}],rules:[a(i)],"item-title":"name","item-value":"value",style:{width:"100%","align-self":"flex-end"},label:"Type"},null,8,["modelValue","rules"])]),_:1}),e(d,null,{default:t(()=>[e(u,{rules:[a(i),o.integerValidator],style:{width:"100%"},class:"pe-3",modelValue:a(s).price,"onUpdate:modelValue":l[3]||(l[3]=r=>a(s).price=r),label:"Price",disabled:a(x)},null,8,["rules","modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(m,{class:"pb-6 mt-8 px-3",align:"center",justify:"center"},{default:t(()=>[e(T,{block:o.$vuetify.display.xs,color:"primary",class:"px-12",loading:a(n),type:"submit"},{default:t(()=>[e(j,{start:"",icon:"tabler-check"}),C(v(o.$t("Update")),1)]),_:1},8,["block","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}};typeof b=="function"&&b(O);export{O as default};
