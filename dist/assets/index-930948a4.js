import{aV as h,l as u,R as w,o as S,b as C,w as t,q as a,W as c,n as k,y,s as l,a$ as x,b0 as $,U as d,b1 as _,az as U,z as B,H as F,aZ as v,a_ as N}from"./index-e6f6aeba.js";import{g as j,s as D}from"./branches-4bebef82.js";const M={class:"text-h4 pt-3 pb-2"},R={__name:"index",setup(T){var f;const m=h(),i=u(!1),o=u({delivery_cost:"",minimum_charge:""}),p=u(),b=(f=JSON.parse(localStorage.getItem("userData")))==null?void 0:f.type,g=async()=>{await j().then(e=>{let{delivery_cost:s,minimum_charge:r}=e.data.data;o.value={delivery_cost:s,minimum_charge:r}})},V=async()=>{var e;(e=p.value)==null||e.validate().then(async({valid:s})=>{if(s){i.value=!0;try{await D(o.value),i.value=!1,m.success("Service cost updated successfully")}catch(r){m.error(r.response.data.message),i.value=!1}}})};return w(()=>{b=="admin"&&g()}),(e,s)=>{const r=N;return S(),C(d,{class:"mt-4 px-4",justify:"space-around"},{default:t(()=>[a(c,{class:"pt-0"},{default:t(()=>[a(c,{class:"px-5 rounded",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[k("p",M,y(e.$t("Update Service Cost")),1),a(l(x),{ref_key:"refVForm",ref:p,onSubmit:$(V,["prevent"])},{default:t(()=>[a(c,null,{default:t(()=>[a(d,{justify:"space-between",align:"start"},{default:t(()=>[a(r,{rules:[l(_)],style:{width:"100%"},class:"pe-3 w-50",modelValue:l(o).delivery_cost,"onUpdate:modelValue":s[0]||(s[0]=n=>l(o).delivery_cost=n),label:e.$t("Delivery Cost")},null,8,["rules","modelValue","label"]),a(r,{rules:[l(_)],style:{width:"100%"},class:"ps-3 w-50",modelValue:l(o).minimum_charge,"onUpdate:modelValue":s[1]||(s[1]=n=>l(o).minimum_charge=n),label:e.$t("Minimum Charge")},null,8,["rules","modelValue","label"])]),_:1})]),_:1}),a(d,{class:"pb-6 mt-8 px-3",align:"center",justify:"center"},{default:t(()=>[a(U,{block:e.$vuetify.display.xs,color:"primary",class:"px-12",loading:l(i),type:"submit"},{default:t(()=>[a(B,{start:"",icon:"tabler-check"}),F(y(e.$t("Update")),1)]),_:1},8,["block","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}}};typeof v=="function"&&v(R);export{R as default};
